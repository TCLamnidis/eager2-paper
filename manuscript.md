---
author-meta:
- James A. Fellows Yates
- Thiseas
- Maxime Borry
- Aida
- Zandra
- Stephen
- Maxime U. Garcia
- Judith
- Alexander Peltzer
bibliography:
- content/manual-references.json
date-meta: '2020-04-08'
header-includes: '<!--

  Manubot generated metadata rendered from header-includes-template.html.

  Suggest improvements at https://github.com/manubot/manubot/blob/master/manubot/process/header-includes-template.html

  -->

  <meta name="dc.format" content="text/html" />

  <meta name="dc.title" content="Reproducible, portable, and efficient ancient genome reconstruction with nf-core/eager" />

  <meta name="citation_title" content="Reproducible, portable, and efficient ancient genome reconstruction with nf-core/eager" />

  <meta property="og:title" content="Reproducible, portable, and efficient ancient genome reconstruction with nf-core/eager" />

  <meta property="twitter:title" content="Reproducible, portable, and efficient ancient genome reconstruction with nf-core/eager" />

  <meta name="dc.date" content="2020-04-08" />

  <meta name="citation_publication_date" content="2020-04-08" />

  <meta name="dc.language" content="en-GB" />

  <meta name="citation_language" content="en-GB" />

  <meta name="dc.relation.ispartof" content="Manubot" />

  <meta name="dc.publisher" content="Manubot" />

  <meta name="citation_journal_title" content="Manubot" />

  <meta name="citation_technical_report_institution" content="Manubot" />

  <meta name="citation_author" content="James A. Fellows Yates" />

  <meta name="citation_author_institution" content="Department of Archaeogenetics, Max-Planck-Institute for the Science of Human History" />

  <meta name="citation_author_orcid" content="0000-0001-5585-6277" />

  <meta name="twitter:creator" content="@jfy133" />

  <meta name="citation_author" content="Thiseas" />

  <meta name="citation_author_institution" content="Department of Something, University of Whatever" />

  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />

  <meta name="twitter:creator" content="@placeholder" />

  <meta name="citation_author" content="Maxime Borry" />

  <meta name="citation_author_institution" content="Department of Something, University of Whatever" />

  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />

  <meta name="twitter:creator" content="@placeholder" />

  <meta name="citation_author" content="Aida" />

  <meta name="citation_author_institution" content="Department of Something, University of Whatever" />

  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />

  <meta name="twitter:creator" content="@placeholder" />

  <meta name="citation_author" content="Zandra" />

  <meta name="citation_author_institution" content="Department of Something, University of Whatever" />

  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />

  <meta name="twitter:creator" content="@placeholder" />

  <meta name="citation_author" content="Stephen" />

  <meta name="citation_author_institution" content="Department of Something, University of Whatever" />

  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />

  <meta name="twitter:creator" content="@placeholder" />

  <meta name="citation_author" content="Maxime U. Garcia" />

  <meta name="citation_author_institution" content="Department of Oncology-Pathology, Karolinska Institutet" />

  <meta name="citation_author_orcid" content="0000-0003-2827-9261" />

  <meta name="twitter:creator" content="@gau" />

  <meta name="citation_author" content="Judith" />

  <meta name="citation_author_institution" content="Department of Something, University of Whatever" />

  <meta name="citation_author_orcid" content="XXXX-XXXX-XXXX-XXXX" />

  <meta name="twitter:creator" content="@placeholder" />

  <meta name="citation_author" content="Alexander Peltzer" />

  <meta name="citation_author_institution" content="Translational Medicine &amp; Clinical Pharmacology, Boehringer Ingelheim Pharma GmbH &amp; CO KG, Biberach an der Riss" />

  <meta name="citation_author_orcid" content="0000-0002-6503-2180" />

  <meta name="twitter:creator" content="@alex_peltzer" />

  <link rel="canonical" href="https://apeltzer.github.io/eager2-paper/" />

  <meta property="og:url" content="https://apeltzer.github.io/eager2-paper/" />

  <meta property="twitter:url" content="https://apeltzer.github.io/eager2-paper/" />

  <meta name="citation_fulltext_html_url" content="https://apeltzer.github.io/eager2-paper/" />

  <meta name="citation_pdf_url" content="https://apeltzer.github.io/eager2-paper/manuscript.pdf" />

  <link rel="alternate" type="application/pdf" href="https://apeltzer.github.io/eager2-paper/manuscript.pdf" />

  <link rel="alternate" type="text/html" href="https://apeltzer.github.io/eager2-paper/v/82f96ed1e83f1d446184d4ec91cc05f790a99089/" />

  <meta name="manubot_html_url_versioned" content="https://apeltzer.github.io/eager2-paper/v/82f96ed1e83f1d446184d4ec91cc05f790a99089/" />

  <meta name="manubot_pdf_url_versioned" content="https://apeltzer.github.io/eager2-paper/v/82f96ed1e83f1d446184d4ec91cc05f790a99089/manuscript.pdf" />

  <meta property="og:type" content="article" />

  <meta property="twitter:card" content="summary_large_image" />

  <link rel="icon" type="image/png" sizes="192x192" href="https://manubot.org/favicon-192x192.png" />

  <link rel="mask-icon" href="https://manubot.org/safari-pinned-tab.svg" color="#ad1457" />

  <meta name="theme-color" content="#ad1457" />

  <!-- end Manubot generated metadata -->'
keywords:
- nf-core
- nextflow
- ancientDNA
- aDNA
- palaeogenetics
- archaeogenetics
- bioinformatics
lang: en-GB
manubot-clear-requests-cache: false
manubot-output-bibliography: output/references.json
manubot-output-citekeys: output/citations.tsv
manubot-requests-cache-path: ci/cache/requests-cache
title: Reproducible, portable, and efficient ancient genome reconstruction with nf-core/eager
...






<small><em>
This manuscript
([permalink](https://apeltzer.github.io/eager2-paper/v/82f96ed1e83f1d446184d4ec91cc05f790a99089/))
was automatically generated
from [apeltzer/eager2-paper@82f96ed](https://github.com/apeltzer/eager2-paper/tree/82f96ed1e83f1d446184d4ec91cc05f790a99089)
on April 8, 2020.
</em></small>

## Authors



+ **James A. Fellows Yates**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [0000-0001-5585-6277](https://orcid.org/0000-0001-5585-6277)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [jfy133](https://github.com/jfy133)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [jfy133](https://twitter.com/jfy133)<br>
  <small>
     Department of Archaeogenetics, Max-Planck-Institute for the Science of Human History
     · Funded by Grant XXXXXXXX
  </small>

+ **Thiseas**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [XXXX-XXXX-XXXX-XXXX](https://orcid.org/XXXX-XXXX-XXXX-XXXX)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [TCLamnidis](https://github.com/TCLamnidis)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [placeholder](https://twitter.com/placeholder)<br>
  <small>
     Department of Something, University of Whatever
     · Funded by Grant XXXXXXXX
  </small>

+ **Maxime Borry**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [XXXX-XXXX-XXXX-XXXX](https://orcid.org/XXXX-XXXX-XXXX-XXXX)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [placeholder](https://github.com/placeholder)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [placeholder](https://twitter.com/placeholder)<br>
  <small>
     Department of Something, University of Whatever
     · Funded by Grant XXXXXXXX
  </small>

+ **Aida**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [XXXX-XXXX-XXXX-XXXX](https://orcid.org/XXXX-XXXX-XXXX-XXXX)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [placeholder](https://github.com/placeholder)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [placeholder](https://twitter.com/placeholder)<br>
  <small>
     Department of Something, University of Whatever
     · Funded by Grant XXXXXXXX
  </small>

+ **Zandra**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [XXXX-XXXX-XXXX-XXXX](https://orcid.org/XXXX-XXXX-XXXX-XXXX)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [placeholder](https://github.com/placeholder)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [placeholder](https://twitter.com/placeholder)<br>
  <small>
     Department of Something, University of Whatever
     · Funded by Grant XXXXXXXX
  </small>

+ **Stephen**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [XXXX-XXXX-XXXX-XXXX](https://orcid.org/XXXX-XXXX-XXXX-XXXX)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [placeholder](https://github.com/placeholder)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [placeholder](https://twitter.com/placeholder)<br>
  <small>
     Department of Something, University of Whatever
     · Funded by Grant XXXXXXXX
  </small>

+ **Maxime U. Garcia**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [0000-0003-2827-9261](https://orcid.org/0000-0003-2827-9261)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [MaxUlysse](https://github.com/MaxUlysse)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [gau](https://twitter.com/gau)<br>
  <small>
     Department of Oncology-Pathology, Karolinska Institutet
     · Funded by Barncancerfonden
  </small>

+ **Judith**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [XXXX-XXXX-XXXX-XXXX](https://orcid.org/XXXX-XXXX-XXXX-XXXX)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [placeholder](https://github.com/placeholder)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [placeholder](https://twitter.com/placeholder)<br>
  <small>
     Department of Something, University of Whatever
     · Funded by Grant XXXXXXXX
  </small>

+ **Alexander Peltzer**<br>
    ![ORCID icon](images/orcid.svg){.inline_icon}
    [0000-0002-6503-2180](https://orcid.org/0000-0002-6503-2180)
    · ![GitHub icon](images/github.svg){.inline_icon}
    [apeltzer](https://github.com/apeltzer)
    · ![Twitter icon](images/twitter.svg){.inline_icon}
    [alex_peltzer](https://twitter.com/alex_peltzer)<br>
  <small>
     Translational Medicine & Clinical Pharmacology, Boehringer Ingelheim Pharma GmbH & CO KG, Biberach an der Riss
  </small>



## Abstract {.page_break_before}

The increasing utilization of ancient DNA (aDNA) to address anthropological, palaeontological and biological questions is resulting in a rising diversity in the size of laboratories and scale of analyses being performed. In the context of this heterogenous landscape, we present [nf-core/eager](https://github.com/nf-core/eager), an advanced and entirely redesigned pipeline for the analysis of ancient DNA molecular data. nf-core/eager builds on existing ideas and concepts introduced in the original EAGER pipeline @doi:10.1186/s13059-016-0918-z, and improves various aspects of the analysis procedure by building on computational frameworks such as Nextflow @doi:10.1038/nbt.3820 and nf-core @doi:10.1038/s41587-020-0439-x. The pipeline aims to address three main points: adaptability to different project sizes, reproducibility to ensure robust standards, and extensibility to ensure that new standard analyses (including metagenomic screening) are accessible to research groups of all sizes. The new version of EAGER has been developed within the nf-core intiative, to ensure high quality software development and mantainence support - which will contribute to a long-term lifecycle for the pipeline. nf-core/eager will assist in ensuring that the power of Next Generation Sequencing (NGS) ancient DNA analysis expand to many different applications in the field of ancient DNA research.


## Introduction

Despite difficult beginnings, ancient DNA (aDNA) is now becoming a widely accepted source of short and long term evolutionary and anthropological data and questions. The development of next-generation-sequencing, the most common method used in palaeogenetics, has allowed the recovery of ancient DNA from a wide variety of sources including but not limited to the skeletal remains of animals (@doi:10.1016/j.cub.2015.04.007, @doi:10.1038/nature12323, @doi:10.1073/pnas.1901169116, @10.1073/pnas.1710186114), modern and archaic humans (@doi:10.1038/s41586-018-0094-2, doi:0.1038/s41586-018-0455-x), bacteria (@doi:10.1038/nature13591, @doi:10.1073/pnas.1812865115, @doi:10.1371/journal.ppat.1006997), Viruses (@doi:10.1038/s41586-018-0097-z, @doi:10.7554/eLife.36666), plants (cITE), but also coprolites (@doi:10.1016/j.chom.2019.08.018), calculus (@doi:10.1038/ng.2906, @doi:10.1038/nature21674), sediments (@doi:10.1038/nature12921, @doi:10.1126/science.aam9695), medical slides (@doi:10.1093/molbev/msz264) parchment (@doi:10.1098/rstb.2013.0379), and most recently ancient ‘chewing gum’ (@doi:10.1038/s41467-019-13549-9, @doi:10.1038/s42003-019-0399-1), amongst others. The scales of these studies can range from one to thousands of ancient individuals (@doi:10.1038/nature25738, @doi10.1038/nature25778), and can span single (@doi:10.1038/nature10549) to thousands of taxa (@doi:10.1038/ng.2906). These differences of projects have led to a heterogeneous landscape in terms of types of analyses and types of computing resources available to different labs - particularly as countries less developed in archaeogenetics start entering the field. 

Two commonly used pipelines in the field have been previously published - PALEOMIX (CITE) and EAGER (@doi:10.1186/s13059-016-0918-z). These two pipelines take a similar approach to link together standard tools used for Illumina NGS data processing (quality control, adapter removal/and or merging, mapping, genotyping etc.), but with a specific focus on tools that are designed for or well-suited for ancient DNA (such as bwa aln (CITE) for ultra-short reads and mapDamage (CITE) for aDNA characteristic evaluation). While popular, both tools have suffered from a common occurrence in academic bioinformatics which is development stagnation (CITE). Neither tool has had major updates to the pipeline, meaning versions remain out of date and new ‘standard’ analyses are not being included. The ability to reproduce analysis becomes more challenging as dependencies become more difficult to install, when they become deprecated, as well as increasing ‘bug fixing’ in hidden internal-only versions of tools in different labs. The quality of aDNA studies then suffer, as new labs trying to entire the field without experience and without easy access to field-established routine analyses results in studies being published without the necessary quality controls to ensure authenticity of their data (Cano/Eisenhofer discussions). 

To address these challenges, we have developed nf-core/eager, the second version of the EAGER pipeline. This has been written in with Nextflow, a domain-specific-language (DSL) designed for the construction of ‘omic analysis pipelines (Di Tomasso)). Nextflow offers two main benefits over the custom pipeline framework used in EAGER, which is a) immediate integration into various schedulers in High-Performance-Cluster (HPC) environments as well as local computers, and b) widely-adopted but simplified programming language with extensive documentation that most intermediate level bioinformaticians can easily access. These two factors allow most labs to run any pipeline efficiently on their own cluster with minimal configuration, and secondly to make it easier for a range of contributors to fix bugs and add functionality (rather than having to learn a fully fledged language or a single pipeline’s-specific framework). In addition, nf-core/eager has been constructed in the context of the nf-core community framework (CITE). nf-core enforces strict guidelines for best-practises in software development, including continuous integration tests, minimum documentation requirement  and code peer-review, while facilitating the adherence to these guidelines by providing templates and active community support. The open community allows support for new contributors and thus a greater source of long-term maintenance of the pipeline. 

[. Given the challenges and untapped potential of ancient DNA reproducibility is of…]


## References {.page_break_before}

<!-- Explicitly insert bibliography here -->
<div id="refs"></div>
